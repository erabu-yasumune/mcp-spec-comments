# 要件定義書

## はじめに

### プロジェクト概要
[プロジェクトの全体像、目的、期待される成果を1-2段落で記述]

### ビジョンとの整合性
[このプロジェクトがプロダクトビジョンやビジネス目標とどう整合するか]

**記述例**:
- **ビジネス目標**: [定量的な目標を記述]
- **技術戦略**: [技術的な方向性との整合性]
- **セキュリティ方針**: [セキュリティ要件との整合性]

### ステークホルダー
- **プロダクトオーナー**: [名前/役割]
- **開発チーム**: [チーム名/メンバー構成]
- **エンドユーザー**: [対象ユーザー層の説明]
- **その他関係者**: [インフラチーム、セキュリティチームなど]

---

## 機能要件

### 機能1: [機能名]

**優先度**: 高 / 中 / 低

**ユーザーストーリー**:
[役割]として、[機能]を使いたい。なぜなら、[得られる価値]のため。

**詳細説明**:
[機能の詳細な説明、背景、ユースケースを記述]

**受け入れ基準**:

**正常系**:
1. [ステップ1: ユーザーの操作や入力]
2. [ステップ2: システムの処理や検証]
3. [ステップ3: 期待される結果や画面遷移]

**異常系**:
1. [異常ケース1の説明]:
   - [システムの挙動]
   - [ユーザーへのフィードバック]

2. [異常ケース2の説明]:
   - [システムの挙動]
   - [ユーザーへのフィードバック]

**制約**:
- [この機能に関連する技術的・ビジネス的制約]

**依存関係**:
- [この機能が依存する他の機能や外部システム]

---

### 機能2: [機能名]

**優先度**: 高 / 中 / 低

**ユーザーストーリー**:
[役割]として、[機能]を使いたい。なぜなら、[得られる価値]のため。

**詳細説明**:
[機能の詳細な説明]

**受け入れ基準**:

**正常系**:
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

**異常系**:
1. [異常ケース1]:
   - [挙動]
   - [フィードバック]

**制約**:
- [制約事項]

**依存関係**:
- [依存する機能]

---

## 基本設計概要

### システム構成
**アーキテクチャパターン**: [MVC / MVVM / Clean Architecture / Layered Architecture 等]

**レイヤー構成**:
- **プレゼンテーション層**: [UI/UXコンポーネント、画面制御]
- **ビジネスロジック層**: [業務ロジック、ドメインモデル]
- **データアクセス層**: [データベース操作、外部API連携]

### 技術スタック
- **言語**: [プログラミング言語とバージョン]
- **フレームワーク**: [使用するフレームワークとバージョン]
- **データベース**: [RDBMS/NoSQLとバージョン]
- **インフラ**: [クラウドプロバイダー、コンテナ技術など]

### 主要モジュール概要
1. **[モジュール名]**: [役割の簡潔な説明]
2. **[モジュール名]**: [役割の簡潔な説明]
3. **[モジュール名]**: [役割の簡潔な説明]

※ 詳細なファイル構成、関数シグネチャは design.md で定義します

---

## 非機能要件

### コード品質基準
- **関数の長さ**: 最大50行以内
- **クラスの長さ**: 最大300行以内
- **循環的複雑度**: 10以下
- **テストカバレッジ**: 80%以上

### パフォーマンス
**応答時間**:
- 画面遷移: 1秒以内
- API応答: 200ms以内（90パーセンタイル）
- データベースクエリ: 100ms以内

**スループット**:
- 同時ユーザー数: [想定ユーザー数]
- トランザクション/秒: [想定TPS]

### セキュリティ
**認証・認可**:
- [認証方式の説明]
- [セッション管理方針]
- [多要素認証の有無]

**データ保護**:
- 通信: TLS 1.3以上
- データ暗号化: [暗号化方式]
- 脆弱性対策: SQLインジェクション、XSS、CSRF

**監査とログ**:
- [ログ記録対象]
- [ログ保持期間]

### 信頼性
**可用性**:
- 稼働率: [目標稼働率]
- メンテナンスウィンドウ: [メンテナンス計画]

**障害復旧**:
- RTO（目標復旧時間）: [時間]
- RPO（目標復旧時点）: [時間]
- バックアップ: [バックアップ戦略]

### スケーラビリティ
**水平スケーリング**:
- [スケーリング方針]

**データベーススケーリング**:
- [スケーリング方針]

### ユーザビリティ
**アクセシビリティ**:
- WCAG 2.1レベル[AA/AAA]準拠
- [その他のアクセシビリティ要件]

**多言語対応**:
- サポート言語: [言語リスト]

**レスポンシブデザイン**:
- サポートデバイス: [デスクトップ/タブレット/モバイル]

### 保守性
**ドキュメント**:
- [ドキュメント要件]

**テスト**:
- ユニットテスト: [カバレッジ目標]
- 統合テスト: [テスト範囲]
- E2Eテスト: [テスト範囲]

**CI/CD**:
- [自動化要件]

---

## スコープ

### スコープ内（含まれる機能）
1. [機能A] - [簡潔な説明]
2. [機能B] - [簡潔な説明]
3. [機能C] - [簡潔な説明]

### スコープ外（含まれない機能）
1. [機能X] - [理由: 次フェーズで実装予定]
2. [機能Y] - [理由: 技術的制約により実現困難]
3. [機能Z] - [理由: ビジネス優先度が低い]

---

## 前提条件と依存関係

### 前提条件
- [プロジェクト開始時に満たされているべき条件]

### 外部依存関係
- [外部システム、サービス、ライブラリへの依存]

---

## 用語集

| 用語 | 定義 |
|------|------|
| [用語1] | [定義] |
| [用語2] | [定義] |
| [用語3] | [定義] |

---

## リスクと対策

### リスク1: [リスクの説明]
- **影響度**: 高 / 中 / 低
- **発生確率**: 高 / 中 / 低
- **対策**: [リスク軽減策]
- **緊急時対応**: [リスクが顕在化した場合の対応]

### リスク2: [リスクの説明]
- **影響度**: 高 / 中 / 低
- **発生確率**: 高 / 中 / 低
- **対策**: [リスク軽減策]
- **緊急時対応**: [緊急時対応]

---

## 成功基準

### 定量的指標
- [測定可能な成功基準]

### 定性的指標
- [ユーザーフィードバック、ビジネス目標達成度など]

---

## スケジュールとマイルストーン

### Phase 1: [フェーズ名]（期間）
- [マイルストーン1]
- [マイルストーン2]

### Phase 2: [フェーズ名]（期間）
- [マイルストーン1]
- [マイルストーン2]

### Phase 3: [フェーズ名]（期間）
- [マイルストーン1]
- [マイルストーン2]

---

## 承認

| 役割 | 氏名 | 承認日 | 署名 |
|------|------|--------|------|
| プロダクトオーナー | [氏名] | YYYY-MM-DD | |
| 技術リーダー | [氏名] | YYYY-MM-DD | |
| セキュリティ担当 | [氏名] | YYYY-MM-DD | |

---

## 改訂履歴

| バージョン | 日付 | 変更内容 | 変更者 |
|-----------|------|---------|--------|
| 1.0 | YYYY-MM-DD | 初版作成 | [氏名] |
| 1.1 | YYYY-MM-DD | [変更内容] | [氏名] |
